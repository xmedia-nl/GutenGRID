(()=>{var e,t={421:(e,t,s)=>{"use strict";const r=window.wp.blocks,o=window.wp.i18n,i=window.wp.hooks,n=window.wp.data,l=window.wp.element;var a=s(942),c=s.n(a);const d=window.ReactJSXRuntime,u=({direction:e,height:t,xPos:s,top:r,isSelected:o})=>{const i=c()("wpcom-overlay-resize__handle","components-resizable-box__container",{"is-selected":o}),n={height:t+"px",width:s+"px",top:r+"px"},l={left:s+"px"},a=c()("components-resizable-box__handle","components-resizable-box__side-handle",{"components-resizable-box__handle-left":"left"===e,"components-resizable-box__handle-right":"right"===e});return(0,d.jsx)("div",{className:i,style:n,children:(0,d.jsx)("span",{children:(0,d.jsx)("div",{className:a,style:l})})})},h=window.wp.primitives,p=(0,d.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(h.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})}),g=(0,d.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(h.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})}),v=(0,d.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(h.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})});const m=()=>[{label:(0,o.__)("1 cols","layout-grid"),value:1},{label:(0,o.__)("2 cols","layout-grid"),value:2},{label:(0,o.__)("3 cols","layout-grid"),value:3},{label:(0,o.__)("4 cols","layout-grid"),value:4}],w="Desktop",f="Tablet",b="Mobile",_=()=>[{value:w,label:(0,o.__)("Desktop","layout-grid"),icon:p},{value:f,label:(0,o.__)("Tablet","layout-grid"),icon:g},{value:b,label:(0,o.__)("Mobile","layout-grid"),icon:v}],x=[w,f,b];function y(e,t){return`column${e+1}${t}Span`}function j(e,t){return`column${e+1}${t}Offset`}const k=e=>e===f?8:e===b?4:12;function S(e,t,s){return e===f?3===t&&2===s?k(e):t>1?k(e)/2:k(e):e===b?k(e):k(e)/t}const z=(e,t)=>`column${e+1}-grid__span-${t}`,P=(e,t)=>`column${e+1}-grid__start-${t}`,B=(e,t)=>`column${e+1}-grid__row-${t}`;function A(e,t){return Math.floor(e/t)}function M(e,t){return e%t}function D(e,t,s,r,o=!0){return{name:e,column:t,value:s,device:r,enabled:o}}function C(e,t){const s={};return e.filter((e=>e.enabled&&t[e.name])).map((e=>s[t[e.name](e.column,e.value,e.device)]=!0)),s}function O(e,t){if(!e)return e;const s=t.charAt(0).toLowerCase();return String(e).replace(/column\d-\w*-grid__\w*-\d*/g,"").replace(/column\d-grid__\w*-\d*/g,"").replace(/\s{2,}/,"").replace(/wp-block-jetpack-layout-gutter__\w*/,"").replace(/is-vertically-aligned-\w*/,"").replace(/is-style-[A-Za-z-_]*/,"").replace(new RegExp(`${s}-grid-\\d+-\\d+`,"g"),"").replace(new RegExp(`${s}-row-\\d+-\\d+`,"g"),"").replace(/are-vertically-aligned-\w*/).trim()}function G({gutterSize:e,addGutterEnds:t}){return{"wp-block-jetpack-layout-gutter__nowrap":!t,"wp-block-jetpack-layout-gutter__none":"none"===e,"wp-block-jetpack-layout-gutter__small":"small"===e,"wp-block-jetpack-layout-gutter__medium":"medium"===e,"wp-block-jetpack-layout-gutter__huge":"huge"===e}}const V=({children:e,isSelected:t,onResize:s,gridWidth:r=12,clientId:o})=>{const i=(0,l.useRef)(null),[a,h]=(0,l.useState)(!1),[p,g]=(0,l.useState)({xPos:0,width:0,height:0,top:0,direction:null}),v=(0,n.useSelect)((e=>e("core/block-editor").getBlockAttributes(o)?.className||""),[o]),m=(0,n.useSelect)((e=>e("core/edit-post")?.__experimentalGetPreviewDeviceType?.()||"Desktop"));(0,l.useEffect)((()=>{const e=i.current;if(!e)return;Array.from(e.classList).forEach((t=>{/^[dtm]-grid-\d+-\d+$/.test(t)&&e.classList.remove(t)}));const t=Array.from(new Set(v.split(" ").filter((e=>/^[dtm]-grid-\d+-\d+$/.test(e)))));t.forEach((t=>e.classList.add(t))),console.log("Applying grid classes to wrapper:",t)}),[v]);const w=e=>{const{clientX:t,targetTouches:s}=e;return t||s&&s[0]?.clientX},f=e=>{const{target:t}=e;if((0===e.button||e.touches)&&(t.dataset.resizeRight||t.dataset.resizeLeft)){const s=t.closest(".wp-block"),o=t.dataset.resizeLeft,{width:n,right:l,left:a,top:c,height:d}=s.getBoundingClientRect(),u=(s.parentNode?.offsetWidth||1200)/r,{start:p,end:m}=function(e=""){const t=e.match(/d-grid-(\d+)-(\d+)/);return t?{start:parseInt(t[1],10),end:parseInt(t[2],10)}:{start:1,end:12}}(v);console.log("start onMouseDown",p,m),g({xPos:w(e),width:n,height:d,top:c,direction:o?"left":"right",gridPixelWidth:u,start:p,end:m}),h(!0);const f=i.current?.ownerDocument||document;f.addEventListener("mousemove",b),f.addEventListener("mouseup",_),e.preventDefault(),e.stopPropagation()}},b=e=>{e.stopPropagation();const t=w(e);g((e=>{const r=t-e.xPos,o=Math.round(r/e.gridPixelWidth);if(!s||0===o)return e;let i=e.start,n=e.end;return"left"===e.direction&&(i=Math.max(1,Math.min(e.end-1,e.start+o))),"right"===e.direction&&(n=Math.min(12,Math.max(e.start+1,e.end+o))),s({direction:e.direction,delta:o,start:i,end:n,device:m}),{...e,start:i,end:n,xPos:t}}))},_=()=>{console.log("onMouseUp"),h(!1);const e=i.current?.ownerDocument||document;e.removeEventListener("mousemove",b),e.removeEventListener("mouseup",_)},x=c()(v,{"wp-block-vwe-grid__resizing":a,"wp-block-vwe-grid__resizable":!0});return(0,d.jsxs)("div",{className:x,onMouseDown:f,onTouchStart:f,ref:i,children:[a&&(0,d.jsx)(u,{direction:p.direction,height:p.height,xPos:p.xPos,top:p.top,isSelected:t}),(0,d.jsxs)("span",{className:"wp-blocks-vwe-grid__resize-handles",children:[(0,d.jsx)("div",{className:"components-resizable-box__handle components-resizable-box__side-handle components-resizable-box__handle-right","data-resize-right":!0}),(0,d.jsx)("div",{className:"components-resizable-box__handle components-resizable-box__side-handle components-resizable-box__handle-left","data-resize-left":!0})]}),e]})};(0,i.addFilter)("editor.BlockListBlock","vwe/with-grid-resize-handles",(e=>t=>{const{clientId:s,attributes:r,name:o}=t;if(!(0,n.useSelect)((e=>{const t=e("core/block-editor"),r=t.getBlockRootClientId(s),o=t.getBlock(r);return"vwe/grid"===o?.name}),[s])||["core/group","core/columns"].includes(o))return(0,d.jsx)(e,{...t});const{updateBlockAttributes:i}=(0,n.useDispatch)("core/block-editor");return(0,d.jsx)(V,{clientId:s,gridWidth:12,onResize:({direction:e,delta:t,start:o,end:n,device:l="Desktop"})=>{if("number"!=typeof o||"number"!=typeof n||isNaN(t))return;const a={Desktop:"d",Tablet:"t",Mobile:"m"}[l];let c=o,d=n;if("left"===e&&(c=Math.max(1,Math.min(n-1,o+t))),"right"===e&&(d=Math.min(12,Math.max(o+1,n+t))),c>=d)return;console.log("attributes.className",r.className),console.log(typeof r.className);const u=`${a}-grid-${c}-${d}`,h=`${O(r.className||"",l)} ${u}`.trim();i(s,{className:h})},children:(0,d.jsx)(e,{...t})})})),window.lodash;const T=window.wp.blockEditor,N=window.wp.components,E=window.wp.keycodes,I=window.wp.compose,$=e=>(0,d.jsx)(N.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",...e,children:(0,d.jsx)(N.Path,{d:"M7 12v24h34V12H7zm32 22H9V14h30v20z"})}),L=e=>(0,d.jsx)(N.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",...e,children:(0,d.jsx)(N.Path,{d:"M7,12v24h34V12H7z M23,34H9V14h14V34z M39,34H25V14h14V34z"})}),R=e=>(0,d.jsx)(N.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",...e,children:(0,d.jsx)(N.Path,{d:"M7 12v24h34V12H7zm23 2h9v20h-9V14zm-2 20h-8V14h8v20zM9 14h9v20H9V14z"})}),H=e=>(0,d.jsx)(N.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",...e,children:(0,d.jsx)(N.Path,{d:"M7 12v24h34V12H7zm8 22H9V14h6v20zm8 0h-6V14h6v20zm8 0h-6V14h6v20zm8 0h-6V14h6v20z"})}),F=({columns:e,...t})=>4===e?(0,d.jsx)(H,{...t}):3===e?(0,d.jsx)(R,{...t}):2===e?(0,d.jsx)(L,{...t}):(0,d.jsx)($,{...t}),W=class{constructor(e,t,s){this.attributes=e,this.device=t,this.columnCount=s}getGridValues(){const e={};for(let t=0;t<this.columnCount;t++){const s=S(this.device,this.columnCount,t);e[y(t,this.device)]=this.getSpan(t)||s,e[j(t,this.device)]=this.getOffset(t)}return e}applyAdjustments(e){let t=this.getGridValues();for(let s=0;s<e.length;s++)t={...t,...e[s]};return t}getSpanAdjustment(e,t){return{[y(e,this.device)]:t}}getAdjustOffset(e,t){return{[j(e,this.device)]:t}}getShrinkOffset(e,t){const s=this.getOffset(e),r=t>=s?s:t;return{adjustment:this.getAdjustOffset(e,s-r),offsetUsed:r}}hasOverlaps(e){for(let t=0;t<e.length;t++){const s=e[t];for(let r=t+1;r<e.length;r++){const t=e[r];if(s.start>t.start&&s.start<t.end)return!0;if(s.end>t.start&&s.end<t.end)return!0}}return!1}validateGrid(e){const t=[],s=k(this.device);let r=0,o=0;for(let i=0;i<this.columnCount;i++){const n=e[y(i,this.device)],l=e[j(i,this.device)];if(o+=l,o>=s&&(o-=s),o+=n,o>s)return!1;t.push({start:r+l,end:r+l+n}),r+=n+l}return!(r>(i=this.device,n=this.columnCount,i===f&&n>2?2*k(i):i===b?k(i)*n:k(i))||this.hasOverlaps(t));var i,n}getEndAdjustments(e,t){const s=[];if(t<0)return[this.getAdjustOffset(e,this.getOffset(e)+Math.abs(t))];if(t>0)for(let r=e;r<this.columnCount&&t>0;r++){const e=this.getShrinkOffset(r,Math.abs(t));s.push(e.adjustment),t-=e.offsetUsed}return s}getStartMovedLeft(e,t){const s=[];for(let r=e;r>=0&&t>0;r--){const e=this.getShrinkOffset(r,t);s.push(e.adjustment),t-=e.offsetUsed}return s}getStartAdjustments(e,t){const s=this.getOffset(e),r=this.getOffsetFromStart(e,t),o=r-s;return o<0?this.getStartMovedLeft(e,Math.abs(o)):[this.getAdjustOffset(e,r)]}getSpan(e){return this.attributes[y(e,this.device)]}getOffset(e){return this.attributes[j(e,this.device)]}getStart(e){let t=0;for(let s=0;s<e;s++)t+=this.getSpan(s)+this.getOffset(s);const s=Math.max(1,Math.floor(t/k(this.device)));return(t+this.getOffset(e))%(s*k(this.device))}getOffsetFromStart(e,t){if(0===e)return t;const s=t-this.getStart(e);return this.getOffset(e)+s}convertOffsetToStart(e,t){return this.getStart(e)+(t-this.getOffset(e))}getAdjustedGrid(e,t){const{start:s=this.getStart(e),span:r=this.getSpan(e)}=t;let o=[];s!==this.getStart(e)&&r!==this.getSpan(e)?(o=o.concat(this.getStartAdjustments(e,s)),o=o.concat(this.getSpanAdjustment(e,r))):r!==this.getSpan(e)?(o=o.concat(this.getSpanAdjustment(e,r)),o=o.concat(this.getEndAdjustments(e+1,r-this.getSpan(e)))):s!==this.getStart(e)&&(o=o.concat(this.getStartAdjustments(e,s)),o=o.concat(this.getEndAdjustments(e+1,s-this.getStart(e))));const i=this.applyAdjustments(o);return o.length>0&&this.validateGrid(i)?i:null}},U=function(e){const{viewPort:t,updateViewport:s}=e,{__experimentalSetPreviewDeviceType:r}=(0,n.useDispatch)("core/edit-post")||(0,n.useDispatch)("core/edit-site"),o=(0,n.useSelect)((e=>(e("core/edit-site")||e("core/edit-post")).__experimentalGetPreviewDeviceType()),[]),[i,a]=(0,I.useResizeObserver)(),c=(0,I.useViewportMatch)("medium","<"),u=(0,I.useViewportMatch)("small","<");return(0,l.useEffect)((()=>{const e=function(e,t){return e?"Mobile":t?"Tablet":"Desktop"}(u,c);e!==t&&s(e)}),[a]),(0,d.jsxs)(d.Fragment,{children:[i,!u&&(0,d.jsx)(T.BlockControls,{children:(0,d.jsx)(N.Dropdown,{renderToggle:({isOpen:e,onToggle:t})=>(0,d.jsx)(N.ToolbarGroup,{children:(0,d.jsx)(N.Button,{"aria-expanded":e,onClick:t,icon:_().find((e=>e.value===o)).icon})}),renderContent:()=>(0,d.jsx)(N.MenuGroup,{children:(0,d.jsx)(N.MenuItemsChoice,{value:o,onSelect:e=>r(e),choices:_()})})})})]})};function q(){return!!document.querySelector("#edit-site-editor")}class X extends l.Component{constructor(e){super(e),this.overlayRef=(0,l.createRef)(),this.state={inspectorDeviceType:"Desktop",viewPort:"Desktop",hasBoGrid:!0}}componentDidMount(){const e=!!document.querySelector("body.is-bo-grid-enabled")||(console.warn("%cBO Grid not detected on <main>. Please ensure your theme uses .bo-grid","color: orange; font-weight: bold;"),!1);this.setState({hasBoGrid:e})}onChangeLayout=e=>{const t={};for(let s=0;s<e;s++)for(let r=0;r<x.length;r++){const o=S(x[r],e,s);t[y(s,x[r])]=o,t[j(s,x[r])]=0}this.props.updateColumns(this.props.columns,e,t)};onResize=(e,t)=>{const{attributes:s,columns:r}=this.props,o=new W(s,this.getPreviewMode(),r).getAdjustedGrid(e,t);o&&this.adjustGrid(o)};onChangeSpan=(e,t,s)=>{const{attributes:r,columns:o}=this.props,i=new W(r,t,o).getAdjustedGrid(e,{span:parseInt(s,10)});i&&this.adjustGrid(i)};onChangeOffset=(e,t,s)=>{const{attributes:r,columns:o}=this.props,i=new W(r,t,o),n=i.getAdjustedGrid(e,{start:i.convertOffsetToStart(e,parseInt(s,10))});n&&this.adjustGrid(n)};adjustGrid(e){const{setAttributes:t,attributes:s}=this.props,r=this.getPreviewMode();t({...e,className:O(s.className,r)})}renderDeviceSettings(e,t,s){const r=new W(s,t,this.props.columns),i=[];for(let s=0;s<e;s++){const n=r.getSpan(s)||S(t,e,s),l=r.getOffset(s)||0;i.push((0,d.jsxs)("div",{className:"vwe-grid-settings",children:[(0,d.jsxs)("strong",{children:[(0,o.__)("Column","layout-grid")," ",s+1]}),(0,d.jsxs)("div",{className:"vwe-grid-settings__group",children:[(0,d.jsx)(N.TextControl,{type:"number",label:(0,o.__)("Offset","layout-grid"),value:l||0,min:0,max:k(t)-1,onChange:e=>this.onChangeOffset(s,t,e)}),(0,d.jsx)(N.TextControl,{type:"number",label:(0,o.__)("Span","layout-grid"),value:n,min:1,max:k(t),onChange:e=>this.onChangeSpan(s,t,e)})]})]},s))}return i}canResizeBreakpoint(e){if(this.overlayRef&&this.overlayRef.current){const{width:t}=this.overlayRef.current.getBoundingClientRect();return t/k(e)>50}return!1}updateInspectorDevice(e){this.setState({inspectorDeviceType:e}),"Mobile"!==this.state.viewPort&&this.props.setPreviewDeviceType(e)}getPreviewMode(){return this.props.isBlockOrPatternPreview?"Desktop":"Desktop"===this.state.viewPort||"Mobile"===this.props.previewDeviceType?this.props.previewDeviceType:this.state.viewPort}getInspectorMode(){return"Desktop"===this.state.viewPort?this.props.previewDeviceType:this.state.inspectorDeviceType}render(){const{className:e,attributes:t={},isSelected:s,columns:r,setAttributes:i,updateAlignment:n,columnAttributes:l}=this.props,{viewPort:a}=this.state,u=this.getPreviewMode(),h=this.getInspectorMode(),p=function(e,t,s={},r=[]){const o=function(e,t,s){const r=[],o=k(e),i=function(e,t,s){const r=[];let o=0;for(let i=0;i<e;i++){const n=y(i,t),l=j(i,t),a=s[n]||S(t,e,i),c=s[l]||0;r.push({position:o+c,span:a}),o+=c,o+=a}return r}(t,e,s);for(let t=0;t<i.length;t++){const{span:s,position:n}=i[t],l=A(n,o),a=M(n,o);r.push(D("span",t,s,e)),r.push(D("offset",t,a+1,e,a>0)),r.push(D("row",t,l+1,e))}return r}(e,t,s),i={span:z,offset:P,row:B},n={};for(let e=0;e<t;e++)r[e].verticalAlignment&&r[e].verticalAlignment!==s.verticalAlignment&&(n[(l=e,a=r[e].verticalAlignment,`column${l+1}-grid__valign-${a}`)]=!0);var l,a;return{...C(o,i),...n}}(u,r,t,l),{gutterSize:g,addGutterEnds:v,verticalAlignment:w}=t,f=(new W(t,u,r),c()(O(e,u).replace("layout-grid","layout-grid-editor"),"wp-block-vwe-grid-editor",p,{"wp-block-jetpack-layout-tablet":"Tablet"===u,"wp-block-jetpack-layout-desktop":"Desktop"===u,"wp-block-jetpack-layout-mobile":"Mobile"===u,"wp-block-jetpack-layout-resizable":this.canResizeBreakpoint(u),[`are-vertically-aligned-${w}`]:w},G(t)));if(0===r)return(0,d.jsx)(N.Placeholder,{icon:"layout",label:(0,o.__)("Choose Layout","layout-grid"),instructions:(0,o.__)("Select a layout to start with:","layout-grid"),className:f,children:(0,d.jsx)("ul",{className:"block-editor-inner-blocks__template-picker-options",children:m().map((e=>(0,d.jsx)("li",{children:(0,d.jsx)(N.IconButton,{isSecondary:!0,icon:(0,d.jsx)(F,{columns:e.value}),onClick:()=>this.onChangeLayout(e.value),className:"block-editor-inner-blocks__template-picker-option",label:e.label})},e.value)))})});const b=(0,d.jsx)(N.ToggleControl,{label:(0,o.__)("Add end gutters","layout-grid"),help:v?(0,o.__)("Toggle off to remove the spacing left and right of the grid.","layout-grid"):(0,o.__)("Toggle on to add space left and right of the layout grid. ","layout-grid"),checked:v,onChange:e=>i({addGutterEnds:e})});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(U,{currentViewport:a,updateViewport:e=>this.setState({viewPort:e,inspectorDeviceType:e})}),(0,d.jsxs)("div",{className:f,children:[!this.state.hasBoGrid&&(0,d.jsxs)(N.Notice,{status:"warning",isDismissible:!1,children:[(0,d.jsx)("strong",{children:(0,o.__)("BO Grid missing","layout-grid")}),(0,d.jsx)("p",{children:(0,o.__)("This block requires the theme to implement a .bo-grid layout on the <main> element. Please ensure your theme supports BO Grid for correct layout behavior. A starter theme will be available soon.","layout-grid")})]}),(0,d.jsx)(T.InnerBlocks,{template:null,templateLock:!1,allowedBlocks:void 0})]}),(0,d.jsxs)(T.InspectorControls,{children:[(0,d.jsxs)(N.PanelBody,{title:(0,o.__)("Layout","layout-grid"),children:[(0,d.jsx)("div",{className:"vwe-grid-columns block-editor-block-styles",children:m().map((e=>(0,d.jsxs)("div",{className:c()("block-editor-block-styles__item",{"is-active":r===e.value}),onClick:()=>this.onChangeLayout(e.value),onKeyDown:t=>{E.ENTER!==t.keyCode&&E.SPACE!==t.keyCode||(t.preventDefault(),this.onChangeLayout(e.value))},role:"button",tabIndex:"0","aria-label":e.label,children:[(0,d.jsx)("div",{className:"block-editor-block-styles__item-preview",children:(0,d.jsx)(F,{columns:e.value})}),(0,d.jsx)("div",{className:"editor-block-styles__item-label block-editor-block-styles__item-label",children:e.label})]},e.value)))}),(0,d.jsx)("p",{className:"vwe-grid-help",children:(0,o.__)("Changing the number of columns will reset your layout and could remove content.","layout-grid")})]}),(0,d.jsxs)(N.PanelBody,{title:(0,o.__)("Responsive Breakpoints","layout-grid"),children:[(0,d.jsx)("p",{className:"vwe-grid-help",children:(0,o.__)("Previewing your post will show your browser's breakpoint, not the currently selected one.","layout-grid")}),(0,d.jsx)(N.ButtonGroup,{children:_().map((e=>(0,d.jsx)(N.Button,{isPrimary:e.value===h,onClick:()=>this.updateInspectorDevice(e.value),children:e.label},e.value)))}),this.renderDeviceSettings(r,h,t)]}),(0,d.jsxs)(N.PanelBody,{title:(0,o.__)("Gutter","layout-grid"),children:[(0,d.jsx)("p",{children:(0,o.__)("Gutter size","layout-grid")}),(0,d.jsx)(N.SelectControl,{value:g,onChange:e=>i({gutterSize:e,addGutterEnds:"none"!==e&&v}),options:[{value:"none",label:(0,o.__)("No gutter","layout-grid")}].concat([{value:"small",label:(0,o.__)("Small","layout-grid")},{value:"medium",label:(0,o.__)("Medium","layout-grid")},{value:"large",label:(0,o.__)("Large","layout-grid")},{value:"huge",label:(0,o.__)("Huge","layout-grid")}])}),"none"===g?(0,d.jsx)(N.Disabled,{children:b}):b]})]}),(0,d.jsx)(T.BlockControls,{children:(0,d.jsx)(T.BlockVerticalAlignmentToolbar,{onChange:n,value:w})})]})}}const J=(0,I.compose)([(0,n.withDispatch)(((e,t,s)=>({updateAlignment(r){const{clientId:o,setAttributes:i}=t,{updateBlockAttributes:n}=e("core/block-editor"),{getBlockOrder:l}=s.select("core/block-editor");i({verticalAlignment:r}),l(o).forEach((e=>{n(e,{verticalAlignment:r})}))}}))),(0,n.withDispatch)(((e,t,s)=>({updateColumns(o,i,n){const{clientId:l}=t,{replaceBlock:a}=e("core/block-editor"),{getBlocks:c}=s.select("core/block-editor"),d=function(e,t,s){if(s>t)return[...e,...Array.from({length:s-t},(()=>(0,r.createBlock)("core/heading")))];let o=[...e],i=0;return o.reverse(),o=o.filter((e=>!(i<t-s&&0===e.innerBlocks.length&&(i++,1)))),o.slice(Math.max(0,t-s-i)).reverse()}(c(l),o,i);a(l,(0,r.createBlock)(t.name,{...t.attributes,...n,className:O(t.attributes.className)},d))}}))),(0,n.withDispatch)((e=>({setPreviewDeviceType(t){if(q())return e("core/edit-site")?.__experimentalSetPreviewDeviceType(t);e("core/edit-post")?.__experimentalSetPreviewDeviceType(t)}}))),(0,n.withSelect)(((e,{clientId:t})=>{const{getBlockCount:s}=e("core/block-editor");return{columns:s(t)}})),(0,n.withSelect)(((e,{clientId:t})=>{const{getBlockOrder:s,getBlocksByClientId:r}=e("core/block-editor");return{columnAttributes:s(t).map((e=>r(e)[0].attributes))}})),(0,n.withSelect)((e=>q()?{previewDeviceType:e("core/edit-site")?.__experimentalGetPreviewDeviceType()}:{previewDeviceType:e("core/edit-post")?.__experimentalGetPreviewDeviceType()}))])((function(e){return(0,d.jsx)(N.Disabled.Consumer,{children:t=>(0,d.jsx)(X,{...e,isBlockOrPatternPreview:t})})}));console.debug("registerBlock"),(0,r.registerBlockType)("vwe/grid",{title:(0,o.__)("Layout Grid","layout-grid"),description:(0,o.__)("Align blocks to a global grid, with support for responsive breakpoints.","layout-grid"),icon:e=>{const t={...e};return e.size&&(t.width=e.size,t.height=e.size),(0,d.jsx)(N.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",...t,children:(0,d.jsx)(N.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-7.5 11.5H6c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h5.5v10zm4 0H13v-10h2.5v10zm4-.5c0 .3-.2.5-.5.5h-2v-10h2c.3 0 .5.2.5.5v9z"})})},category:"design",supports:{align:["full"],html:!1},example:{attributes:{columns:2},innerBlocks:[]},attributes:{gutterSize:{type:"string",default:"large"},addGutterEnds:{type:"boolean",default:!0},verticalAlignment:{type:"string"},...function(e,t){const s={};for(let r=0;r<e;r++)t.map((e=>{s[y(r,e)]={type:"number"},s[j(r,e)]={type:"number",default:0}}));return s}(4,x)},edit:J,save:({attributes:e,innerBlocks:t})=>{const{className:s}=e,r=function(e,t={}){let s={};for(let e=0;e<x.length;e++)s={...s};return t.addGutterEnds||(s["wp-block-jetpack-layout-gutter__nowrap"]=!0),t.verticalAlignment&&"top"!==t.verticalAlignment&&(s[`are-vertically-aligned-${t.verticalAlignment}`]=!0),s}(t.length,e),o=c()(O(s),r,G(e));return(0,d.jsx)("div",{className:o,children:(0,d.jsx)(T.InnerBlocks.Content,{})})}})},942:(e,t)=>{var s;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=n(e,i(s)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)r.call(e,s)&&e[s]&&(t=n(t,s));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(s=function(){return o}.apply(t,[]))||(e.exports=s)}()}},s={};function r(e){var o=s[e];if(void 0!==o)return o.exports;var i=s[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,s,o,i)=>{if(!s){var n=1/0;for(d=0;d<e.length;d++){for(var[s,o,i]=e[d],l=!0,a=0;a<s.length;a++)(!1&i||n>=i)&&Object.keys(r.O).every((e=>r.O[e](s[a])))?s.splice(a--,1):(l=!1,i<n&&(n=i));if(l){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,s)=>{var o,i,[n,l,a]=s,c=0;if(n.some((t=>0!==e[t]))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(a)var d=a(r)}for(t&&t(s);c<n.length;c++)i=n[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},s=globalThis.webpackChunkvwe_grid=globalThis.webpackChunkvwe_grid||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var o=r.O(void 0,[350],(()=>r(421)));o=r.O(o)})();